// Company passwords and Google Drive URLs
// YOU MUST UPDATE THESE WITH YOUR ACTUAL PASSWORDS AND GOOGLE DRIVE LINKS
const companyData = {
    'AFN SPORTS EQUIPMENT SDN BHD': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_1'
    },
    'AKER SOLUTIONS': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_2'
    },
    'ANSHIN': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_3'
    },
    'ARATA AUTO CENTRE SDN BHD': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_4'
    },
    'BBCC DEVELOPMENT': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_5'
    },
    'CITY UNIVERSITY': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_6'
    },
    'CLICKASIA SDN BHD': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_7'
    },
    'DATARAN SEGAR HUAT HUAT HUAT FOOD COURT': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_8'
    },
    'DHUB': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_9'
    },
    'ECRL': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_10'
    },
    'EXHIBITION SAMPLE': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_11'
    },
    'FedEx-Bukit Jelutong': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_12'
    },
    'FedEx-Hitech': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_13'
    },
    'FedEx-KLIA': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_14'
    },
    'FINEGUARD INDUSTRIES': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_15'
    },
    'FOODAGON CONNEXION SDN BHD': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_16'
    },
    'FURI GLOBAL SDN BHD': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_17'
    },
    'GBB BAKERY': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_18'
    },
    'GOOD TIMING FOOD VILLAGE': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_19'
    },
    'HONDA LOGISTICS': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_20'
    },
    'ISKANDAR EDUCATION ENTERPRISE SDN BHD': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_21'
    },
    'ISKANDAR INNOVATIONS SDN BHD': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_22'
    },
    'JOYCAMP PJ SDN BHD': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_23'
    },
    'KOH TIKI OKR SDN BHD': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_24'
    },
    'KUEHNE + NAGEL': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_25'
    },
    'LH ELECTRIC & SERVICES': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_26'
    },
    'LOTUS\'S STORE (MALAYSIA) SDN BHD': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_27'
    },
    'LUXE ACRE SDN BHD': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_28'
    },
    'MACRO PERSPECTIVE SDN BHD': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_29'
    },
    'MILLENNIUM WELT SDN BHD': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_30'
    },
    'NESTLE MANUFACTURING (M) SDN BHD (CHEMBONG)': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_31'
    },
    'NESTLE MANUFACTURING (M) SDN BHD (SA)': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_32'
    },
    'PERCETAKAN TENAGA': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_33'
    },
    'PERODUA MANUFACTURING SDN BHD': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_34'
    },
    'REDVEST': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_35'
    },
    'SAGA MAKMUR SDN BHD': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_36'
    },
    'SEA ASIA SDN BHD': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_37'
    },
    'SIN TAI HING': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_38'
    },
    'SJK(C) HUA LIAN 3': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_39'
    },
    'SJK(C) KEHSENG': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_40'
    },
    'SK SAUJANA IMPIAN 2': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_41'
    },
    'SMK TELOK DATOK': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_42'
    },
    'SUNSET': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_43'
    },
    'T7 AERO REPORT': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_44'
    },
    'TAYLOR (TEG)': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_45'
    },
    'UCSI INTERNATIONAL SCHOOL SB': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_46'
    },
    'UPPER HERITAGE SDN BHD': {
        password: 'password123',
        googleDriveUrl: 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_47'
    }
};

// Toggle mobile menu
function toggleMobileMenu() {
    const menu = document.getElementById('mobile-menu');
    menu.classList.toggle('active');
}

// Open WhatsApp
function openWhatsApp() {
    const whatsappNumber = '60111876933';
    const message = 'Hello, I would like to inquire about your services.';
    const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;
    window.open(whatsappUrl, '_blank');
}

// Go back to search page
function goBack() {
    window.location.href = 'index.html';
}

// Load company name from localStorage
window.addEventListener('DOMContentLoaded', function() {
    const companyName = localStorage.getItem('companyName');
    const companyDisplay = document.getElementById('companyDisplay');
    
    if (companyName) {
        companyDisplay.textContent = companyName;
    } else {
        // If no company name, redirect back to search
        window.location.href = 'index.html';
    }
});

// Handle password form submission
function handlePasswordSubmit(event) {
    event.preventDefault();
    
    const passwordInput = document.getElementById('password');
    const password = passwordInput.value.trim();
    const companyName = localStorage.getItem('companyName');
    const submitBtn = document.getElementById('submitBtn');
    
    if (!password) {
        alert('Please enter a password.');
        return;
    }
    
    if (!companyName) {
        alert('Company name not found. Please go back and select a company.');
        return;
    }
    
    // Disable button during verification
    submitBtn.disabled = true;
    submitBtn.textContent = 'VERIFYING...';
    passwordInput.disabled = true;
    
    // Simulate a small delay for better UX
    setTimeout(() => {
        // Normalize company name for lookup
        const normalizedCompanyName = companyName.toUpperCase().trim();
        
        // Check if company exists
        const company = companyData[normalizedCompanyName];
        
        if (!company) {
            alert('Company not found in our records.');
            resetForm();
            return;
        }
        
        // Verify password
        if (company.password === password) {
            // Password correct - open Google Drive
            alert('Access granted! Opening service reports...');
            window.open(company.googleDriveUrl, '_blank');
            
            // Reset form
            resetForm();
        } else {
            // Password incorrect
            alert('Invalid password. Please try again.');
            resetForm();
        }
    }, 500);
}

// Reset form after submission
function resetForm() {
    const passwordInput = document.getElementById('password');
    const submitBtn = document.getElementById('submitBtn');
    
    submitBtn.disabled = false;
    submitBtn.textContent = 'SUBMIT';
    passwordInput.disabled = false;
    passwordInput.value = '';
    passwordInput.focus();
}
